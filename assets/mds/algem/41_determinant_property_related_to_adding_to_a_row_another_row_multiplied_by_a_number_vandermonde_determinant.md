## Прибавление строк
В прошлом билете мы обсудили, что происходит с определителем при умножении строки на скаляр. Теперь поговорим про суммирование двух строк.

Свойство: при прибавлении к одной строке определителя другой строки, умноженной на скаляр, *этот определитель не меняется*.

Скажем, мы получили матрицу $B$ из матрицы $A$, с помощью прибавления к строке $i$ строку $j$, умноженной на скаляр $\lambda$. Другими словами, матрица $B$ равна матрице $A$, кроме строки $i$.
$$B_{ip} = A_{ip} + \lambda A_{jp}$$
Как мы уже говорили в прошлом билете, определитель линеен по строкам, поэтому выполняется $$\det B = \det A + \lambda \det C$$
Матрица $C$ равна матрице $A$, лишь за исключением, что ее строка $i$ равна строке $j$. Но раз у матрицы $C$ есть две одинаковые строки, то ее определитель равен нулю. Соотвественно,
$$\det B = \det A$$
И определитель от сложения строк не изменился. И конечно, как и всегда, такие рассуждения работают и для столбиков.
## Определитель Вандермонда
Матрица Вандермонда - квадратная матрица особого вида, которая однозначно задается лишь строкой элементов, и выглядит следующим образом:
$$V(x_1, x_2, \ldots, x_n) = \begin{pmatrix}
1 & x_1 & x_1^2 & \ldots & x_1^{n-1} \\
1 & x_2 & x_2^2 & \ldots & x_2^{n-1} \\
1 & x_3 & x_3^2 & \ldots & x_3^{n-1} \\
\vdots & \vdots & \vdots & \ddots & \vdots \\
1 & x_n & x_n^2 & \ldots & x_n^{n-1}
\end{pmatrix}$$
Вертикально ставятся сами элементы, а по горизонтали проходят степени от $0$ до $n-1$.
Определителем Вандермонда, очевидно, является определитель этой матрицы.
$$\left|\array{
1 & x_1 & x_1^2 & \ldots & x_1^{n-1} \\
1 & x_2 & x_2^2 & \ldots & x_2^{n-1} \\
1 & x_3 & x_3^2 & \ldots & x_3^{n-1} \\
\vdots & \vdots & \vdots & \ddots & \vdots \\
1 & x_n & x_n^2 & \ldots & x_n^{n-1}
}\right| = \left|\array{
1 & 1 & 1 & \ldots & 1 \\
x_1 & x_2 & x_3 & \ldots & x_n \\
x_1^2 & x_2^2 & x_3^2 & \ldots & x_n^2 \\
\vdots & \vdots & \vdots & \ddots & \vdots \\
x_1^{n-1} & x_2^{n-1} & x_3^{n-1} & \ldots & x_n^{n-1}
}\right|$$
Этот определитель интересен тем, что он равен произведению всевозможных разностей $x_i - x_j$, где $1 \leq j < i \leq n$.

Докажем это, конечно же, индуктивно. Базу $n=2$ проверяем ручками:
$$\left|\array{1 & 1 \\ x_1 & x_2}\right| = x_2 - x_1$$
Теперь шаг: предполагаем, что это свойство работает для $n-1$, и доказываем, что в таком случае это будет работать и для $n$.
Рассматриваем определитель порядка $n$:
$$\left|\array{
1 & 1 & 1 & \ldots & 1 \\
x_1 & x_2 & x_3 & \ldots & x_n \\
x_1^2 & x_2^2 & x_3^2 & \ldots & x_n^2 \\
\vdots & \vdots & \vdots & \ddots & \vdots \\
x_1^{n-1} & x_2^{n-1} & x_3^{n-1} & \ldots & x_n^{n-1}
}\right|$$
Мы только что доказывали, что складывание/вычитание домноженных строк не меняет определитель. Тогда начнем вычитать строки снизу, и подниматься вверх: сначала вычтем строку $n-1$, умноженную на $x_1$, из строки $n$, затем вычтем строку $n-2$ тоже умноженную на $x_1$ из строки $n-1$, и будем подниматься таким образом, пока не поднимемся до вычета $1$ строки, умноженной на $x_1$, из строки $2$. Получится новый определитель, причем без всяких множителей:
$$\Rightarrow \left|\array{
1 & 1 & 1 & \ldots & 1 \\
0 & x_2-x_1 & x_3-x_1 & \ldots & x_n-x_1 \\
0 & x_2^2-x_1x_2 & x_3^2-x_1x_3 & \ldots & x_n^2-x_1x_n \\
\vdots & \vdots & \vdots & \ddots & \vdots \\
0 & x_2^{n-1}-x_1x_2^{n-2} & x_3^{n-1}-x_1x_3^{n-2} & \ldots & x_n^{n-1}-x_1x_n^{n-2}
}\right|$$
Наша мотивация: мы не меняем значение определителя, при этом с помощью таких операций наша цель (почти) обнулить первый столбик. После разложения определителя по первому столбику мы сможем прийти к определителю Вандермонда меньшего порядка и по предположению индукции закончить. Но перед этим, нам нужно вынести общие множители из каждого столбика, чтобы привести минор к виду определителя Вандермонда:
$$\Rightarrow \left|\array{
1 & 1 & 1 & \ldots & 1 \\
0 & (x_2-x_1) & (x_3-x_1) & \ldots & (x_n-x_1) \\
0 & x_2(x_2-x_1) & x_3(x_3-x_1) & \ldots & x_n(x_n-x_1) \\
\vdots & \vdots & \vdots & \ddots & \vdots \\
0 & x_2^{n-2}(x_2-x_1) & x_3^{n-2}(x_3-x_1) & \ldots & x_n^{n-2}(x_n-x_1)
}\right|$$
Теперь раскладываем этот определитель по первому столбцу. Все члены, кроме 1, обратятся в ноль, поэтому этот определитель равен дополнительному минору:
$$\Rightarrow \left|\array{
(x_2-x_1) & (x_3-x_1) & \ldots & (x_n-x_1) \\
x_2(x_2-x_1) & x_3(x_3-x_1) & \ldots & x_n(x_n-x_1) \\
\vdots & \vdots & \ddots & \vdots \\
x_2^{n-2}(x_2-x_1) & x_3^{n-2}(x_3-x_1) & \ldots & x_n^{n-2}(x_n-x_1)
}\right|$$
Так как умножение столбика определителя будет равно умножению самого определителя на это значение, мы можем вынести общие множители из каждого столбика этого определителя:
$$\Rightarrow(x_2-x_1)(x_3-x_1)\ldots (x_n-x_1) \left|\array{
1 & 1 & \ldots & 1 \\
x_2 & x_3 & \ldots & x_n\\
\vdots & \vdots & \ddots & \vdots \\
x_2^{n-2} & x_3^{n-2} & \ldots & x_n^{n-2}
}\right|$$
По предположению индукции, получившийся определитель Вандермонда меньшего порядка равен $\prod_{2 \leq j < i \leq n} (x_i - x_j)$. А левые множители - как раз это же произведение, но для фиксированного $j=1$. Объединяем:
$$= (x_2-x_1)(x_3-x_1)\ldots(x_n-x_1)\prod_{2 \leq j < i \leq n} (x_i - x_j) = $$
$$= \prod_{1 \leq j < i \leq n} (x_i - x_j)$$
Так и заканчивается доказательство.

Из такого свойства определителя Вандермонда следует, что если существует такая пара $x_i = x_j, i \neq j$, то определитель будет равен нулю.
## Мотивация
А зачем такая матрица вообще сдалась? Самое популярное применение матрицы Вандермонда - нахождение многочлена, проходящую через множество точек: мы хотим составить многочлен, что будет проходить через точки $(x_1; y_1), (x_2; y_2), (x_3; y_3)$. Система уравнений будет выглядеть следующим образом:
$$\cases{a_1 + a_2x_1 + a_3x^2_1 = y_1 \\ a_1 + a_2x_2 + a_3x^2_2 = y_2 \\ a_1 + a_2x_3 + a_3x^2_3 = y_3}$$
Переписывая эту систему в матричное уравнение, получим
$$\begin{pmatrix}1 & x_1 & x_1^2 \\ 1 & x_2 & x_2^2 \\ 1 & x_3 & x_3^2\end{pmatrix}\begin{pmatrix}a_1 \\ a_2 \\ a_3\end{pmatrix} = \begin{pmatrix}y_1\\ y_2\\ y_3\end{pmatrix}$$
Слева получилась матрица Вандермонда. Решая уравнение относительно вектора $(a_1; a_2; a_3)$ можно будет построить такой полином, что проходит через эти точки. Решить можно, например, с помощью формул Крамера, о которых мы поговорим в следующем билете.
## Пример задачи
Условие: посчитайте определитель матрицы. $$A = \pmatrix{1 & 1 & 1 & 1 \\ 3 & 7 & 5 & 2 \\ 9 & 49 & 25 & 4 \\ 27 & 343 & 125 & 8}$$

Решение: несложно заметить, что это матрица Вандермонда. Посчитаем ее определитель по формуле $$\det A = \prod_{1 \leq j < i \leq 4} (x_i - x_j)$$
$$\array{\det A = (2-3)(2-7)(2-5)(5-3)(5-7)(7-3) = \\ = (-1)(-5)(-3)(2)(-2)(4)=240}$$
Можно было для усложнения покрутить строчки и столбцы местами, повычитать тут и там строки, но я решил этот пример не усложнять сильно.
