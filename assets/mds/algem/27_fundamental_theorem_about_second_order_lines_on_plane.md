Эта теорема гласит, что для общего уравнения линии второго порядка можно сменить систему координат так, что эту линию можно будет описать одним из нескольки канонических видов уравнений. Такие уравнения представляют из себя эллипсы, точки, параболы, гиперболы или пары прямых.
Всего таких уравнений можно насчитать девять (но некоторые почти одинаковые):
1. Обычный и мнимый эллипс (действительные точки не имеют решений для него): $$\frac{x^2}{a^2} + \frac{y^2}{b^2} = 1 \ \ \ \ \ \ \ \ \ \ \frac{x^2}{a^2} + \frac{y^2}{b^2} = -1$$
2. Гипербола:
$$\frac{x^2}{a^2} - \frac{y^2}{b^2} = 1$$
3. Парабола:
$$y^2 = 2px$$
4. Горизонтальные прямые: пара горизонтальных прямых, пара мнимых горизонтальных прямых (как с мнимым эллипсом), горизонтальная прямая (пара совпадающих прямых):
$$y^2 - a^2 = 0 \ \ \ \ \ \ \ \ \ \ y^2 + a^2 = 0 \ \ \ \ \ \ \ \ \ \ \ y^2 = 0$$
5. Пары пересекающихся прямых - действительные и мнимые (они образуют лишь одну точку в центре координат): $$a^2x^2 - c^2y^2 = 0 \ \ \ \ \ \ \ \ \ \ \ a^2x^2 + c^2y^2 = 0$$
А как они получаются - перейдем к пояснению.
Из прошлого билета заберем уравнение, которое получилось поворотом и смещением:
$$Ax^2 + Cy^2 + F = 0$$
При $F=0$ получаем уравнение $Ax^2 + Cy^2 = 0$. В зависимости того, одинаковые знаки у $A$ и $C$ (или же знака произведения $A\cdot C$), можно получить уравнения 5.1 и 5.2.
$$\sqrt A^2x^2 + \sqrt C^2 y^2 = 0 \ \ \ \ \ \ \ \ \ \ \ \sqrt A^2x^2 - \sqrt C^2 y^2 = 0$$

В случае, когда $F\neq 0$, можем перенести его направо и поделить на этот коэффициент.
$$Ax^2 + Cy^2 = -F \Rightarrow \frac{x^2}{F/A} + \frac{y^2}{F/C} = -1$$
В зависимости от знака $F$ мы можем прийти к уравнениям 1.1 и 1.2:
$$\frac{x^2}{\sqrt{F/A}^2} + \frac{y^2}{\sqrt{F/C}^2} = -1 \ \ \ \ \ \ \ \ \ \ \frac{x^2}{\sqrt{F/A}^2} + \frac{y^2}{\sqrt{F/C}^2} = 1$$
Уравнение 2.1 достигается когда коэффициент $C$ отрицательный.
$$\frac{x^2}{\sqrt{F/A}^2} - \frac{y^2}{\sqrt{F/C}^2} = 1$$

Уравнение для параболы получается чуть другим образом, из уравнения $$Ax^2 + Cy^2 + 2Dx + 2Ey + F = 0$$
Когда $A=0$, переносим систему координат по трюку из прошлого билета так, что $E=0$. Остается уравнение $$Cy^2 + 2Dx + F=0 \Rightarrow Cy^2 + 2D(x + \frac{F}{2D}) = 0$$
Теперь переносим систему координат на $\frac F {2D}$ по оси $x$:
$$\cases{x' = x + \frac{F}{2D} \\ y' = y}$$
И получаем уравнение $$C{y'}^2 + 2Dx' = 0$$
Таким образом и получается уравнение для параболы:
$$y^2 = \sqrt{-\frac{2D}Cx'}$$
Вернемся к уравнению $Cy^2 + 2Dx + F=0$. Когда $D=0$, мы приходим к уравнению $Cy^2 + F=0$, и точно так же, как и с эллипсами, в зависимости от знаков $C$ и $F$ получаются уравнения 4.1, 4.2 и 4.3 (когда $F=0$):
$$y^2 + \sqrt \frac{F}{C}^2 = 0 \ \ \ \ \ \ \ \ \ \ y^2 - \sqrt \frac{F}{C}^2 = 0 \ \ \ \ \ \ \ \ \ \ y^2 = 0$$

## Детерминант
Бонусом мы можем ввести детерминант для общего уравнения линии второго порядка!
$$Ax^2 + 2Bxy + Cy^2 + 2Dx + 2Ey + F = 0$$
Как помните, для обычных квадратных уравнений детерминантом называлось число $D = b^2 - 4ac$. Здесь все довольно схоже.

Для детерминанта линии мы берем все так же первые три коэффициента (и берем весь $2B$), сокращаем на 4 (не сильно играет роль для свойства) и берем детерминант с минусом.
$$\delta = D = -(B^2 - AC) = AC - B^2$$
Линия является эллиптического типа при $\delta > 0$, параболического типа при $\delta =0$, и гиперболического типа при $\delta < 0$.
Знак детерминанта не меняется от выбора системы координат.
## Пример задачи
Замените систему координат для линии $$3x + 2xy - y - 2 =0$$чтобы ее можно было записать каноническим уравнением.
Решение: найдем угол поворота. Для этого делаем систему замены координат:
$$\cases{x = x' \cos \varphi - y' \sin \varphi \\ y = x' \sin \varphi + y' \cos \varphi}$$
Формулу для обнуления $xy$ мы уже выводили в прошлом билете, поэтому считаем, какой $t = \tg \varphi$ нужен, чтобы $xy$ обнулился.
$$Bt^2 -(C-A)t - B = 0 \Rightarrow t^2 - 1 = 0$$
Возьмем $t=1$. Тогда $\varphi = \pi/2$. Посчитаем систему выше:
$$\cases{x = x' \cos \frac \pi 2 - y' \sin \frac \pi 2 \\ y = x' \sin \frac \pi 2+ y' \cos \frac \pi 2} \Rightarrow \cases{x = \frac{\sqrt2}2 (x'-y') \\ y= \frac{\sqrt 2}2 (x'+y')}$$
Подставляем их в наше уравнение:
$$\array{\frac{3\sqrt 2}{2}(x'-y') + ({x'}^2 - {y'}^2) - \frac{\sqrt 2}{2} (x'+y')=0 \\ {x'}^2 - {y'}^2 + \sqrt 2 x' - 2\sqrt 2 y' - 2=0}$$
Дальше просто смещаем систему координат так, чтобы занулить коэффициенты при $x'$ и $y'$. 
$$\array{\left(x' + \sqrt 2 x' + \left(\frac{\sqrt 2}{2}\right)^2\right) - ({y'}^2 + 2\sqrt 2 y' + {\sqrt 2}^2) \ - \\ \ -2 - \left(\frac{\sqrt 2}{2}\right)^2 - {\sqrt 2}^2=0}$$
$$\left(x' + \frac{\sqrt 2}2\right)^2 - (y' + \sqrt 2)^2 - \frac 12 =0$$
Получается наше смещение будет на вектор $(-\frac{\sqrt 2}2; -\sqrt 2)$:
$$\cases{x'' = x' + \frac{\sqrt2}2 \\ y'' = y' + \sqrt 2}$$
$${x''}^2 - {y''}^2 - \frac12 = 0$$
Выходит, это было уравнение гиперболы:
$$2{x''}^2 - 2{y''}^2 = 1 \Rightarrow$$$$\frac{{x''}^2}{(1/\sqrt2)^2} - \frac{{y''}^2}{(1/\sqrt 2)^2} = 1$$
Было бы неплохо записать матрицу перехода, по типу того, как мы это делали в билете [[#14. Замена базиса и системы координат. Изменение координат при параллельном переносе и повороте.]]
Сначала мы повернули систему координат на $90^\circ$, потом ее сместили на вектор.
Матрицу поворота мы можем составить из этой системы:
$$\cases{x = \frac{\sqrt2}2 (x'-y') \\ y= \frac{\sqrt 2}2 (x'+y')} \Rightarrow M = \frac{\sqrt 2}{2}\left(\matrix{1 & -1 \\ 1 & 1}\right)$$
Затем мы сместили точку начала координат следующим образом:
$$\cases{x'' = x' + \frac{\sqrt2}2 \\ y'' = y' + \sqrt 2} \Rightarrow O = \left(\matrix{-\frac{\sqrt 2}2 \\ -\sqrt 2}\right)$$
Все это преобразование системы координат будет выглядеть так - получить оригинальные координаты из координат канонического уравнения:
$$\left(\matrix{x\\y}\right) = \frac{\sqrt 2}{2}\left(\matrix{1 & -1 \\ 1 & 1}\right)\left(\left(\matrix{x'' \\ y''}\right) + \left(\matrix{-\frac{\sqrt 2}2 \\ -\sqrt 2}\right)\right)$$
Или же в обратную сторону (взять обратную матрицу и перенести):
$$\left(\matrix{x'' \\ y''}\right) = \frac{\sqrt 2}{2}\left(\matrix{1 & 1 \\ -1 & 1}\right)\left(\matrix{x\\y}\right) - \left(\matrix{-\frac{\sqrt 2}2 \\ -\sqrt 2}\right)$$
